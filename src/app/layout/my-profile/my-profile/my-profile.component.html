<div class="main-container">
    <div class="header">
        <div class="row">
            <h3 class="page-title">My Profile</h3>
            <a [routerLink]="['/dashboard/default']">
                <i class="fa fa-3x fa-home home-icon" aria-hidden="true" title="Dashboard" data-toggle="tooltip"></i>
            </a>
        </div>
    </div>
    <div id="content" class="body-container">

        <div class="container">
            <br>
            <br>
            <div class="row" id="main">
                <div class="col-md-4 well" id="leftPanel">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="padding-top-20">
                                <div>
                                    <a (click)="file.click()">
                                        <img *ngIf='loggedInUserObj.profileImgPath'
                                            [src]="loggedInUserObj.profileImgPath" alt="Responsive image"
                                            class="rounded-circle profile-img img-fluid" style="padding:10px;" />
                                        <img *ngIf="loggedInUserObj.profileImgPath === null || loggedInUserObj.profileImgPath === '' || loggedInUserObj.profileImgPath === 'undefined'"
                                            src="assets/images/default-profile.jpg" alt="Responsive image"
                                            class="rounded-circle profile-img img-fluid" style="padding:10px;" />
                                    </a>
                                </div>
                                <div class="btn-group">
                                    <a (click)="file.click()">
                                        <i class="fa fa-pencil-square-o" style="color: brown; font-size: medium;"
                                            aria-hidden="true">
                                            Change profile pic</i>
                                    </a>
                                    <p><input #file type="file" name="imageUrl" accept="image/*" 
                                            (change)="onProfilePicSelected($event)" style="cursor: pointer;"
                                            accept=".jpg,.png,.jpeg" hidden /></p>
                                            <!-- [(ngModel)]="loggedInUserObj.profileImgPath" -->
                                </div>

                                <h2 class="padding-top-20">
                                    {{loggedInUserObj.firstName}}&nbsp;{{loggedInUserObj.lastName}}</h2>
                                <b>{{loggedInUserObj.team.teamName}}</b>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 well" id="rightPanel">
                    <div class="row">
                        <div class="col-md-12">
                            <form role="form">
                                <h2>Personal Details</h2>
                                <hr class="colorgraph">
                            
                                <label class="note">To view updated changes relogin to your account</label>
                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>First Name:<span class="asterik-mark">&nbsp;*</span></label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <input value="{{loggedInUserObj.firstName}}"
                                                [(ngModel)]="loggedInUserObj.firstName" class="form-control input-lg"
                                                type="text" id="firstName" name="firstName" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>Last Name:<span class="asterik-mark">&nbsp;*</span></label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <input value="{{loggedInUserObj.lastName}}"
                                                [(ngModel)]="loggedInUserObj.lastName" class="form-control input-lg"
                                                type="text" id="lastName" name="lastName" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>Email:<span class="asterik-mark">&nbsp;*</span></label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <input value="{{loggedInUserObj.email}}" [(ngModel)]="loggedInUserObj.email"
                                                class="form-control input-lg" type="email" id="email" name="email" />
                                        </div>
                                    </div>
                                </div>

                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>Username:</label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <b style="overflow-wrap: break-word; color: black;">
                                                {{loggedInUserObj.name}}</b>
                                        </div>
                                    </div>
                                </div>

                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>Team:</label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <b style="overflow-wrap: break-word; color: black;">
                                                {{loggedInUserObj.team.teamName}}</b>
                                        </div>
                                    </div>
                                </div>

                                <h2 class="padding-top-20">Other Details</h2>
                                <hr class="colorgraph">
                                
                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>Total Meetings:</label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <b style="overflow-wrap: break-word; color: black;">
                                                {{profileOtherDetails.meetingCount}}</b>
                                        </div>
                                    </div>
                                </div>

                                <div class="row margin-left-30">
                                    <div class="col-xs-12 col-sm-5 col-md-5">
                                        <div class="form-group">
                                            <label>Total Groups:</label>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <b style="overflow-wrap: break-word; color: black;">
                                                {{profileOtherDetails.groupCount}}</b>
                                        </div>
                                    </div>
                                </div>
                                <div style="text-align: center;">
                                    <button class="btn btn-primary" (click)="updateProfile()">Save</button>
                                    <button class="btn btn-danger" (click)="cancelUpdate()"
                                        style="color: #ffff;">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer" class="footer">
        <div class="cfsfooter"><img class="card-img setlogo" src="assets/images/coreflex-logo.png"
                style="height:28px;width:140px; margin:10px;"><br><b>Copyright &copy; 2018 Coreflex Solutions</b>
        </div>
    </div>
</div>