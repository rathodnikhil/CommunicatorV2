<div class="top">
    <div class="col-md-12 header" style="text-align: center;">
        <h3>Manage Group</h3>
    </div>
</div>

<div class="left filter-list">
    <h4 (click)="showGroupName()" style="cursor: pointer;">
        New Group
        <i class="fa fa-plus-circle pull-right" *ngIf="!showNewGroup"></i>
        <i class="fa fa-times-circle pull-right"   *ngIf="showNewGroup" aria-hidden="true"></i>
    </h4>
    <div class="row" *ngIf="showGroupNameUiFlag">
        <div class="align-center text-center">
            <input type="text" placeholder="Type Name Here..."  class="col-md-11 search-member"  #groupNameTxt/>
            <button class="btn btn-sec" (click)="addGroup(groupNameTxt.value)">Add Group</button>
        </div>
    </div>

    <hr>
    <div class="form-group input-group">
        <input type="text" class="form-control" placeholder="Search"  [(ngModel)]="searchGroupName">
        <div class="input-group-append">
            <button class="btn btn-secondary" type="button">
                <i class="fa fa-search"></i>
            </button>
        </div>
    </div>
    <ul *ngFor="let group of groupList | genericSearchAllProp:searchGroupName ; let groupCount = index">
        <li>
            <label (click)="displayGroupDetails(group.groupId)">{{groupCount+1}})&nbsp; {{group.groupId.groupName}}
            </label>
        </li>
    </ul>
</div>
<div class="main">
<div class="row" style="padding-top: 10px;">
     <div class="col-md-9 under" ><h4 >Group Details</h4></div> 
                           
                <div class="align-center col-md-3" >
                    <div class="btn btn-sec remove-border" style="cursor: default;"><span class="span-dec">Filter By:&nbsp;</span>
                    <a style="padding-right:10px; cursor: default;">Name</a>
                    <a class="date-period-select"  style="cursor: default;">Email</a>
                    <a class="date-period-select"  style="cursor: default;">Team</a>
                    <a class="date-period-select"  style="cursor: default;">Status</a>
                    </div>
                    <div class="form-group input-group"style="padding-top:5px;">
                      <input type="text" class="form-control" placeholder="Search"  [(ngModel)]="searchTextTable">
                      <div class="input-group-append">
                          <button class="btn btn-secondary" type="button">
                              <i class="fa fa-search"></i>
                          </button>
                      </div>
                  </div>
                </div>
           
</div>
<hr>

    <div class="row">
        <div class="col-md-5">
            <h4 *ngIf="showSelectedGroup" class="selected-team">{{selectedGroupObj.groupName}}
                <span *ngIf="countFlag">&nbsp;[{{groupMemberCount}}]</span>
            </h4>
            <div class="member-details">
                <h5>
                    <i class="fa fa-user" aria-hidden="true"></i>&nbsp;Member Details</h5>
                <hr>
                <div class="row" style="padding: 15px;">
                    <ng-multiselect-dropdown [placeholder]="'Select Members'" class="col-md-12" [data]="groupMemberObjList" [(ngModel)]="selectedItems" [settings]="dropdownSettings">
                    </ng-multiselect-dropdown>
                </div>
                <div class="row">
                    <div class="align-center text-center">
                        <button (click)="addMember()" class="btn btn-sec ">Add Member</button>
                    </div>

                </div>

            </div>
        </div>
        
        <div class="col-md-7">
            <table style="margin: 20px;">
                <tr>
                    <th>Sr. No</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Team Name</th>
                    <th>Status</th>
                </tr>
                <tr *ngFor="let user of selectedGroupUsers | genericSearchAllProp:searchTextTable | paginate: config ;let srNo = index">
                    <td> {{ config.itemsPerPage * (config.currentPage - 1) + srNo + 1 }}</td>
                    <td>{{user.firstName}}&nbsp;{{user.lastName}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.team.teamName}}</td>
                    <td>{{user.status.status}} </td>
                </tr>
            </table>
            <div class="pageControl">
                <pagination-controls [id]="config.id" [maxSize]="maxSize" [directionLinks]="directionLinks" [autoHide]="autoHide" [responsive]="responsive"
                    [previousLabel]="labels.previousLabel" [nextLabel]="labels.nextLabel" [screenReaderPaginationLabel]="labels.screenReaderPaginationLabel"
                    [screenReaderPageLabel]="labels.screenReaderPageLabel" [screenReaderCurrentLabel]="labels.screenReaderCurrentLabel"
                    (pageChange)="onPageChange($event)"></pagination-controls>
            </div>
        </div>
    </div>
    <div class="cfsfooter "><img class="card-img setlogo" src="assets/images/coreflex-logo.png" style="height:28px;width:140px; margin:10px; "><br><b>Copyright &copy; 2018 Coreflex Solutions</b>
    </div>
</div>